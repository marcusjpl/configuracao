<div ng-controller="propriedadeController">

  <div class="col-lg-12" ng-init="init()">

    <h3 class="page-header">Propriedades</h3>

    <form role="form">

      <div class="form-group">

        <div class="row">
          <div class="col-sm-3">
            <label>Sistema</label> <select ng-model="sistema" class="form-control"
              ng-options="sistema.nome for sistema in sistemas track by sistema.id"
              ng-change="carregarAmbientesPorIdSistema(sistema.id)">
            </select>
          </div>

          <div class="col-sm-3" ng-show="ambientes.length > 0">
            <label>Ambiente</label> <select ng-model="ambiente" class="form-control"
              ng-options="ambiente.nome for ambiente in ambientes track by ambiente.id"
              ng-change="carregarPropriedadesPorIdAmbiente(ambiente.id)">
            </select>
          </div>
        </div>
        
        <hr>
        
        <div class="row">
          <div class="col-lg-8">
              <button type="submit" class="btn btn-primary" ng-click="addPropriedade()"><i class="fa fa-plus"></i> Adicionar</button>
              <button type="submit" class="btn btn-secondary" ng-click="limpar()">Limpar</button>
          </div>
        </div>

        <hr>

        <div class="row" ng-if="propriedades.length > 0">
          <div class="col-lg-12">
            <div class="panel panel-default">

              <div class="panel-heading">
                Propriedades
              </div>

              <div class="panel-body">
                <div class="table-responsive">

                  <table class="table table-striped table-hover">

                    <thead>
                      <tr>
                        <th></th>
                        <th>Nome</th>
                        <th>Valor</th>
                        <th>Descricao</th>
                        <th></th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr ng-repeat="p in propriedades">
                        <td>{{ $index + 1 }}</td>
                        <td><div class="col-lg-8"><input class="form-control" ng-model="p.nome"></div></td>
                        <td><input class="form-control" ng-model="p.valor"></td>
                        <td><input class="form-control" ng-model="p.descricao"></td>
                        <td>
                          <div>
                            <button type="reset" class="btn btn-primary">
                              <i class="fa fa-trash-o" style="font-size: larger;"></i>
                            </button>
                          </div>
                        </td>
                      </tr>
                    </tbody>

                  </table>

                </div>
              </div>
            </div>
          </div>

        </div>

      </div>


    </form>

  </div>

</div>